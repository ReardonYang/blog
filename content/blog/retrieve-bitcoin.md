+++
title = "记一次丢失&找回比特币事件"
date = "2021-11-20"
tags = [
    "比特币",
]
+++

![bitcoin-bank](/images/bitcoin-bank.jpeg)

* 这次**丢失&找回比特币**事件，**前后持续约1个**月，从2021年10月26日晚，到今天（2021年11月20日）下午三点钟。

* **丢币的主要原因是我用了一个500G的硬盘，不够存放目前的比特币全节点。**

* 首先，我按照Umbrel官方教程在树莓派上安装好Umbrel，并正确备份私钥。**在区块并没有完成同步之前**，我往钱包中转入了1549929聪比特币。接着是安装Ride the lightning应用。然后我试着和其他人建立一个闪电网络通道，我往通道中转入了100154聪，提交申请后，通道的建立一直处在未确认状态，最后我才知道是因为没有完成区块同步，所以没办法建立通道，于是我关闭了申请，并且联系通道节点拒绝了我的申请。

* 在这期间，区块一直在同步，终于，当区块同步到96%左右的时候，同步的速度越来越慢，那个时候，我认为是硬盘满了，事实上也确实如此，硬盘只有500G（实际值是488G左右）。后来，区块同步一直处于停滞状态，**整整一天，没有同步一个区块**，于是，我考虑再买一块2T的硬盘。然后，我关闭了树莓派全节点。

* 收到硬盘后，我用新的2T硬盘连接上树莓派，并输入了之前备份的密钥，**重新开始**区块同步。

* 然后是漫长等待，从2021年11月04日，一直同步到今天上午，也就是2021年11月20日上午10点左右，共16天。这漫长的等待过程中，我一度认为我的币再也找不回了。

---

* 按理说，完成区块同步后，所有交易信息都会在交易列表中显示，但是很遗憾，Umbrel中一直没有显示历史记录。这也是我觉得Umbrel目前最大的问题，使用不稳定，对用户极度不友好，应用商店中提供的多数应用基本都处在实验性阶段。所以，**我强烈建议不要在Umbrel上存放大额资金。另外，计算机基础薄弱，动手能力差的朋友，最好直接就不要倒腾那些乱七八糟的应用了，包括闪电网络。**

* 我输入的私钥是正确的，但是却没有显示交易记录，我想到，这是不是Umbrel本身不够稳定的问题，于是我试着将私钥导入到Imtoken，发现直接报错。

* 让我觉得很疑惑的是，即便我锁进闪电网络通道的100154聪比特币完全丢失，那我至少应该还有（1549929聪-100154聪）= **549775聪**的比特币在钱包中，但是为什么连这一部分也丢失了？我不明白。

* 我将丢币经历简要描述，发到了Umbrel的Telegram群。有不少朋友给我提了很多解决问题的思路，真的是**非常感谢这个社群**，其实在这个过程中，我已经完全放弃，已经接受丢币这个事实了。我在群里写到：“It hurts a bit. I have never spent any Sats I bought, but this time I lost some. I hope that other friends will not make this stupid mistake of mine. However, as Satoshi Nakamoto once said, if you lose Bitcoin, treat it as a gift to other hodlers.”后面是有群友发消息：**“I wouldn't give up without a flight”**.也就是在这句话的激发下，我决定不轻易放弃，而是花时间来找回丢失的币。

* **找回币的过程异常简单**，在我向社区描述我的丢币过程后，社群的朋友建议我试着通过BlueWallet来进行找回，我之前在Twitter上简单看过这个钱包的信息，但是并没有使用过。所以就并没放在心上。直到我在Umbrel的论坛看到另外一篇恢复钱包的帖子，也提到了BlueWallet，抱着**死马当活马**医的心态，我下载了BlueWallet，输入了密钥，奇迹出现了，549775聪的比特币就这样在我眼前出现，静静地躺在BlueWallet中。于是，我找回了链上的币，也就是我**觉得最不该丢失的那一部分币**。

* 然后，我就想，既然链上的币已经找回了，那么，通道上的币是不是也能找回呢，毕竟我当时是成功的关闭了通道的，除了我，没有人能将这里面的币取走，因为私钥在我手上。另外，让我充满信心的一点是，**我拥有当时闪电网络通道完整的备份**。于是，整个下午，我开始想方设法来恢复Ride The Lightning应用中的比特币，我通过SSH进入Umbrel，然后将channel-all.bak备份文件放入到备份页面所描述的/data/backup/restore路径，我想尽一切办法试图恢复Ride The Lightning，然而并没有成功。这里不得不再次吐槽一下，**Ride The Lightning应用极其难用**，虽然我通过查阅文档，多花点时间也能操作下来，但是对那些不熟悉Linux的人，难度太高。**Umbrel要想成为比特币世界的安卓系统，任重而道远**。

* 一顿操作之后，没办法进一步恢复闪电网络通道中的比特币，我只能放弃。于是我拿出Ledger，打算用BlueWallet将找回的549775聪的比特币转到Ledger上，提交转账后，我惊奇的发现，BlueWallet的交易记录中还出现了**另外两笔转入交易**，数额分别是998133聪和149聪。也就是被锁在闪电网络通道中的比特币。

* **比特币就这样回来了，我的币，失而复得！**

---

## 通过这次事件，我获得的经验教训是：

1. 如果你打算同步比特币全节点，在2021年的今天，请准备一个至少1T的固态硬盘，有条件直接上**2T或者4T**；

2. Umbrel及其应用商店中的所有应用，包括但不限于各种闪电网络相关应用，都是实验性产品，**请不要在其中放入大额资金**；

3. **BlueWallet是好东西**；

4. 少做骚操作，在比特币&闪电网络的世界，没有一个类似银行/政府那样的中心化机构能帮你找回资金或重置密码，你对自己的资金安全**负全责**。

5. 遇事一定要冷静；

6. 永远不要轻易放弃自己的比特币。**自己丢的币，自己找回来**！

7. 永远小心对待自己的比特币，我这次能够“找回”比特币，其实最大的原因是“我并没有丢失”他们，是**Umbrel误导了我，是Ride The Lightning的极度不友好迷惑了我**。记住，**如果你丢失你的比特币，你就会真的丢失**，没有找回这一说。

---